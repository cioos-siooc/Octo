<!--
  ~ This Source Code Form is subject to the terms of the Mozilla Public
  ~ License, v. 2.0. If a copy of the MPL was not distributed with this
  ~ file, You can obtain one at http://mozilla.org/MPL/2.0/.
  -->
<ng-template #layerPicker let-modal>
    <!-- <div class="modal-header background-dark-blue">
        <h4 class="modal-title">
            {{ 'add-layer-modal-search-heading' | translate }}
        </h4>
    </div> -->
    <!-- <div class="modal-body searchbox">
        <input type="text" placeholder="{{ 'add-layer-modal-search-example' | translate }}">
    </div> -->

    <span *ngIf="selectedTopic === null">
        <div class="modal-header background-dark-blue">
            <h4 class="modal-title">
                {{ 'add-layer-modal-theme-heading' | translate }}
            </h4>
            <button type="button" class="close" aria-label="Close" (click)="modal.dismiss()">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>

        <div class="modal-body" id="topic-picker">
            <app-topic-picker></app-topic-picker>
        </div>
    </span>

    <span *ngIf="selectedTopic !== null">
        <div class="modal-header background-blue theme-title">
            <div class="theme-title-container">
                <div class="background-dark-blue back-to-themes-button"
                     (click)="backToThemes()">
                    <i class="fas fa-home"></i> {{ 'themes-label' | translate }}
                </div>
                <svg version = "1.1"
                    baseProfile="full"
                    width="40" height="100"
                    viewBox="0 0 40 100"
                    xmlns="http://www.w3.org/2000/svg"
                    class="arrow-right">
                    <polygon points="0,0 40,50, 0,100" class="triangle" />
                </svg>
                <div class="selectedTopic">{{ selectedTopic.label }}</div>
            </div>
            <button type="button" class="close" aria-label="Close" (click)="modal.dismiss()">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="modal-body">
            <app-catalog></app-catalog>
        </div>
    </span>
    <div class="modal-footer">
        <button class="btn btn-primary btn-close" (click)="modal.close()">{{ 'close-btn-label' | translate }}</button>    
    </div>
</ng-template>

<button class="background-dark-blue" (click)="open(layerPicker)">
    <i class="fas fa-plus"></i>
    <label [ngClass]="{'erase-label': isCollapsed}">{{'browse-data-button' | translate}}</label>
</button>